<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ù†Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡ Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÙ‡Ø§ â€” ØªØ¹Ø±ÛŒÙ A</title>
<style>
  body { font-family: Tahoma, sans-serif; background: #f0f4ff; color:#122; padding:28px; direction:rtl; }
  h2 { color:#0d47a1; margin-bottom:8px; }
  label { display:block; margin-top:12px; }
  select,input,button { margin:8px 0; padding:8px 10px; font-size:15px; border-radius:8px; border:1px solid #cde; }
  button { border:none; cursor:pointer; background:#1976d2; color:white; padding:10px 14px; border-radius:10px; transition: .2s; }
  button:hover { transform:translateY(-2px); background:#0d47a1; }
  .result-box { background:white; border-radius:10px; padding:14px; margin-top:10px; box-shadow:0 2px 8px rgba(0,0,0,.06); }
  .math-ltr { direction:ltr; font-family:"Courier New", monospace; font-size:16px; background:#f6f9ff; padding:6px 10px; border-radius:8px; display:inline-block; }
  .small-btn { padding:8px 10px; background:#1565c0; border-radius:8px; color:white; margin-right:6px; border:none; }
  .venn-wrap { display:flex; align-items:center; justify-content:center; height:220px; position:relative; }
  .morph { width:200px; height:6px; background:#1976d2; border-radius:3px; transition: all .9s ease; transform-origin:center center; position:absolute; top:50%; left:50%; transform:translate(-50%, -50%) rotate(0deg); }
  .morph.to-circle { width:200px; height:200px; border-radius:50%; background:rgba(25,118,210,0.12); box-shadow:inset 0 0 0 3px #1976d2; transform:translate(-50%, -50%) rotate(360deg); }
  .venn-number { position:absolute; top:0; left:0; width:200px; height:200px; display:flex; flex-wrap:wrap; justify-content:center; align-items:center; pointer-events:none; }
  .venn-number span { opacity:0; transform:translateY(8px); transition:all .6s ease; background:transparent; font-weight:600; margin:2px; font-size:16px; }
  .venn-number.show span { opacity:1; transform:translateY(0); }
  svg.axis { width:100%; height:140px; overflow:visible; }
</style>
</head>
<body>
<h2>ğŸ”¹ ØªØ¹Ø±ÛŒÙ Ù…Ø¬Ù…ÙˆØ¹Ù‡ A</h2>
<label>Ø¹Ø¶Ùˆ Ú©Ø¯Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø´Ù†Ø§Ø®ØªÙ‡â€ŒØ´Ø¯Ù‡ Ø§Ø³ØªØŸ</label>
<select id="knownSet">
  <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯...</option>
  <option value="N">N (Ø§Ø¹Ø¯Ø§Ø¯ Ø·Ø¨ÛŒØ¹ÛŒ)</option>
  <option value="W">W (Ø§Ø¹Ø¯Ø§Ø¯ Ø´Ù…Ø§Ø±Ø´ÛŒ)</option>
  <option value="Z">Z (Ø§Ø¹Ø¯Ø§Ø¯ ØµØ­ÛŒØ­)</option>
  <option value="Q">Q (Ø§Ø¹Ø¯Ø§Ø¯ Ú¯ÙˆÛŒØ§)</option>
  <option value="I">Ø§Ø¹Ø¯Ø§Ø¯ Ú¯Ù†Ú¯</option>
  <option value="R">R (Ø§Ø¹Ø¯Ø§Ø¯ Ø­Ù‚ÛŒÙ‚ÛŒ)</option>
</select>
<label>Ø§Ú¯Ø± Ø´Ø±Ø·ÛŒ Ø¯Ø§Ø±Ø¯ØŒ Ø¢Ù† Ø±Ø§ Ø¨Ù‡ Ø²Ø¨Ø§Ù† Ø³Ø§Ø¯Ù‡ Ø¨Ù†ÙˆÛŒØ³ (Ù…Ø«Ù„Ø§Ù‹: -2 â‰¤ x â‰¤ 4 ÛŒØ§ x &lt; 5):</label>
<input id="textCondition" type="text" placeholder="Ù…Ø«Ù„Ø§Ù‹ -2 â‰¤ x â‰¤ 4 ÛŒØ§ x < 5" />
<button class="small-btn" onclick="makeExpression()">Ù†Ù…Ø§ÛŒØ´ Ù†Ù…Ø§Ø¯ Ø±ÛŒØ§Ø¶ÛŒ</button>
<div id="mathResult" class="result-box"></div>
<button class="small-btn" onclick="showMembers()">Ù†Ù…Ø§ÛŒØ´ Ø§Ø¹Ø¶Ø§</button>
<div id="membersBox" class="result-box"></div>
<button class="small-btn" onclick="showVenn()">Ù†Ù…Ø§ÛŒØ´ Ù†Ù…ÙˆØ¯Ø§Ø± ÙˆÙ† (Ø§Ù†ÛŒÙ…ÛŒØ´Ù†)</button>
<div id="vennBox" class="result-box"></div>
<button class="small-btn" onclick="showAxis()">Ù†Ù…Ø§ÛŒØ´ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø±ÙˆÛŒ Ù…Ø­ÙˆØ±</button>
<div id="axisBox" class="result-box"></div>
<div style="margin-top:18px;">
  <button onclick="goOperations()" class="small-btn">â• Ø§Ù†Ø¬Ø§Ù… Ø¹Ù…Ù„ÛŒØ§Øª Ø±ÛŒØ§Ø¶ÛŒ</button>
</div>
<script>
// Ø°Ø®ÛŒØ±Ù‡ A
function makeExpression(){
  const set = document.getElementById("knownSet").value;
  const cond = document.getElementById("textCondition").value.trim();
  if(!set){ alert("Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†"); return; }
  let expr = cond ? `{ x âˆˆ ${set} | ${cond} }` : `{ x âˆˆ ${set} | â€¦ }`;
  document.getElementById("mathResult").innerHTML=`<div>Ù†Ù…Ø§ÛŒØ´ Ø±ÛŒØ§Ø¶ÛŒ:</div><div class="math-ltr" dir="ltr">${expr}</div>`;
  localStorage.setItem("setA_expr", expr);
  localStorage.setItem("setA_raw_set", set);
  localStorage.setItem("setA_raw_cond", cond);
}
function showMembers(){
  const set=document.getElementById("knownSet").value;
  const box=document.getElementById("membersBox");
  if(!set){ box.innerText="Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†."; return; }
  if(set==="R"||set==="I"||set==="Q"){box.innerText="Ù†Ù…Ø§ÛŒØ´ Ø§Ø¹Ø¶Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ù†ÛŒØ³Øª.";}
  else if(set==="N"){box.innerText="{1, 2, 3, â€¦}";}
  else if(set==="W"){box.innerText="{0, 1, 2, 3, â€¦}";}
  else if(set==="Z"){box.innerText="{â€¦, -2, -1, 0, 1, 2, â€¦}";}
  else{box.innerText="Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†.";}
}
function showVenn(){
  const set=document.getElementById("knownSet").value;
  const cond=document.getElementById("textCondition").value.trim();
  const box=document.getElementById("vennBox");
  box.innerHTML="";
  if(set==="R"||set==="I"||set==="Q"){box.innerText="Ù†Ù…Ø§ÛŒØ´ ÙˆÙ† Ø¨Ø±Ø§ÛŒ Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ù†ÛŒØ³Øª."; return;}
  const wrap=document.createElement("div"); wrap.className="venn-wrap";
  const morph=document.createElement("div"); morph.className="morph"; wrap.appendChild(morph);
  const numbersDiv=document.createElement("div"); numbersDiv.className="venn-number";
  let found=[]; const membersMatch=cond.match(/(\{?\s*-?\d+(\.\d+)?(\s*,\s*-?\d+(\.\d+)?)+\s*\}?)/);
  if(membersMatch){ found=membersMatch[0].replace(/[{}\s]/g,"").split(",");}
  if(found.length===0) found=["1","2","3"];
  found.slice(0,8).forEach(n=>{ const sp=document.createElement("span"); sp.textContent=n; numbersDiv.appendChild(sp);});
  wrap.appendChild(numbersDiv); box.appendChild(wrap);
  morph.style.transition="none"; morph.style.width="200px"; morph.style.height="6px"; morph.style.borderRadius="3px";
  morph.style.background="#1976d2";
  setTimeout(()=>{morph.classList.add("to-circle");},400);
  setTimeout(()=>{numbersDiv.classList.add("show");},1200);
}
function showAxis(){ 
  const set=document.getElementById("knownSet").value; const cond=document.getElementById("textCondition").value.trim(); const box=document.getElementById("axisBox"); box.innerHTML="";
  if(!set){box.innerText="Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†."; return;}
  if(set==="I"||set==="Q"){box.innerText="Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÛŒ Ù…Ø­ÙˆØ± Ø¨Ø±Ø§ÛŒ Ø§Ø¹Ø¯Ø§Ø¯ Ú¯Ù†Ú¯ Ùˆ Ú¯ÙˆÛŒØ§ Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ù†ÛŒØ³Øª."; return;}
  box.innerText="Ù†Ù…Ø§ÛŒØ´ Ù…Ø­ÙˆØ± Ø¨Ø±Ø§ÛŒ Ø§Ø¹Ø¶Ø§ÛŒ Ù…Ø­Ø¯ÙˆØ¯ ÛŒØ§ Ø¨Ø§Ø²Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø´Ø®Øµ.";
}
function goOperations(){ window.location.href="operations.html"; }
</script>
</body>
</html>
